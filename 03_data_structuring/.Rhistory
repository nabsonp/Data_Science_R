install.packages("rvest")
library(rvest)
#install.packages("rvest")
install.packages("libcurl")
setRepositories()
setRepositories()
#install.packages("rvest")
install.packages("libcurl")
ap <- available.packages()
ap
"libcurl" %in% rownames(ap)
#install.packages("rvest")
install.packages("libcurl", dependencies=TRUE)
#install.packages("rvest")
install.packages("rvest", dependencies=TRUE)
library(rvest)
URL = "https://www.olx.com.br/brasil?o=P&q=im%C3%B3veis%20a%20venda%20em%20manaus"
URL[25]
URL
URL[1]
URL[1][2]
URL[[2]]
URL[2]
URL.sub('P','a')
sub(x=URL,pattern = 'P',replacement = 1)
cond = 0
k = 1
url = paste0(URL,k)
url
install.packages("rvest")
library(rvest)
install.packages("rvest")
###### Classe de Controle = 1
setwd("~/Documentos/UFAM/4º período/ICD/Aula 05/wifi/Control") # fixa a pasta de trabalho do R no diretório passado.
fileNames = dir()
l <- rep(0,20)
l[20] = 1
df <- data.frame("Data_Hora" = '', "Teste" = '', "Antena" = '', "Channel" = '', "Freq" = '',
"Occ_Band" = '', "Sit_Teste" = '',"Power" = '', "Sit_Power" = '', "N_outsig" = '',
"N_3sig" = '', "N_2sig" = '', "N_1sig" = '', "U" = '', "P_1sig" = '', "P_2sig" = '',
"P_3sig" = '', "P_outsig" = '', "Sit" = '', "Classe" = 1, stringsAsFactors = FALSE)
Log = readLines(fileNames[k])
fileNames[k]
Log = readLines(fileNames[k])
idFP = grep("Modelo",Log)
Log = Log[idFP:length(Log)]
a = strsplit(Log[3], split="")[[1]]
a[11] = " "
l[1] = paste0(a,collapse = "")
tst = grep("Teste",Log)
l[20] = fileNames[k]
for (j in tst) {
t = strsplit(Log[j],split=" ")[[1]]
l[2] = t[2]
l[3] = t[4]
l[4] = t[6]
l[5] = t[8]
l[6] = t[12]
l[7] = strtrim(t[13],6)
l[8] = t[16]
l[9] = strtrim(t[17],6)
t = strsplit(Log[j+1],split=" ")[[1]]
l[10] = strsplit(t[7],split="}")[[1]][1]
for (a in 9:14) {
l[a+2] = strsplit(t[a],split="}")[[1]][1]
}
l[19] = t[17]
df = rbind(df,l)
}
View(df)
df <- data.frame("Data_Hora" = '', "Teste" = '', "Antena" = '', "Channel" = '', "Freq" = '',
"Occ_Band" = '', "Sit_Teste" = '',"Power" = '', "Sit_Power" = '', "N_outsig" = '',
"N_3sig" = '', "N_2sig" = '', "N_1sig" = '', "U" = '', "P_1sig" = '', "P_2sig" = '',
"P_3sig" = '', "P_outsig" = '', "Sit" = '', "Log" = '', "Classe" = 1, stringsAsFactors = FALSE)
l[21] = 1
Log = readLines(fileNames[k])
idFP = grep("Modelo",Log)
Log = Log[idFP:length(Log)]
a = strsplit(Log[3], split="")[[1]]
a[11] = " "
l[1] = paste0(a,collapse = "")
tst = grep("Teste",Log)
l[20] = fileNames[k]
for (j in tst) {
t = strsplit(Log[j],split=" ")[[1]]
l[2] = t[2]
l[3] = t[4]
l[4] = t[6]
l[5] = t[8]
l[6] = t[12]
l[7] = strtrim(t[13],6)
l[8] = t[16]
l[9] = strtrim(t[17],6)
t = strsplit(Log[j+1],split=" ")[[1]]
l[10] = strsplit(t[7],split="}")[[1]][1]
for (a in 9:14) {
l[a+2] = strsplit(t[a],split="}")[[1]][1]
}
l[19] = t[17]
df = rbind(df,l)
}
View(df)
###### Classe de Controle = 1
setwd("~/Documentos/UFAM/4º período/ICD/Aula 05/wifi/Control") # fixa a pasta de trabalho do R no diretório passado.
fileNames = dir()
l <- rep(0,21)
l[21] = 1
df <- data.frame("Data_Hora" = '', "Teste" = '', "Antena" = '', "Channel" = '', "Freq" = '',
"Occ_Band" = '', "Sit_Teste" = '',"Power" = '', "Sit_Power" = '', "N_outsig" = '',
"N_3sig" = '', "N_2sig" = '', "N_1sig" = '', "U" = '', "P_1sig" = '', "P_2sig" = '',
"P_3sig" = '', "P_outsig" = '', "Sit" = '', "Log" = '', "Classe" = 1, stringsAsFactors = FALSE)
for (k in 1:length(fileNames)) {
Log = readLines(fileNames[k])
idFP = grep("Modelo",Log)
Log = Log[idFP:length(Log)]
a = strsplit(Log[3], split="")[[1]]
a[11] = " "
l[1] = paste0(a,collapse = "")
tst = grep("Teste",Log)
l[20] = fileNames[k]
for (j in tst) {
t = strsplit(Log[j],split=" ")[[1]]
l[2] = t[2]
l[3] = t[4]
l[4] = t[6]
l[5] = t[8]
l[6] = t[12]
l[7] = strtrim(t[13],6)
l[8] = t[16]
l[9] = strtrim(t[17],6)
t = strsplit(Log[j+1],split=" ")[[1]]
l[10] = strsplit(t[7],split="}")[[1]][1]
for (a in 9:14) {
l[a+2] = strsplit(t[a],split="}")[[1]][1]
}
l[19] = t[17]
df = rbind(df,l)
}
}
df = df[-1,]
rownames(df) <- 1:nrow(df)
###### Classe de Erro = 2
setwd("~/Documentos/UFAM/4º período/ICD/Aula 05/wifi/Error") # fixa a pasta de trabalho do R no diretório passado.
fileNames = dir()
l[20] = 2
for (k in 1:length(fileNames)) {
Log = readLines(fileNames[k])
idFP = grep("Modelo",Log)
Log = Log[idFP:length(Log)]
a = strsplit(Log[3], split="")[[1]]
a[11] = " "
l[1] = paste0(a,collapse = "")
tst = grep("Teste",Log)
for (j in tst) {
t = strsplit(Log[j],split=" ")[[1]]
l[2] = t[2]
l[3] = t[4]
l[4] = t[6]
l[5] = t[8]
l[6] = t[12]
l[7] = strtrim(t[13],6)
l[8] = t[16]
l[9] = strtrim(t[17],6)
t = strsplit(Log[j+1],split=" ")[[1]]
l[10] = strsplit(t[7],split="}")[[1]][1]
for (a in 9:14) {
l[a+2] = strsplit(t[a],split="}")[[1]][1]
}
l[19] = t[17]
df = rbind(df,l)
}
}
View(df)
setwd("~/Documentos/UFAM/4º período/ICD/Aula 05") # fixa a pasta de trabalho do R no diretório passado.
write.csv(df, "wifi_estruturado.csv", row.names = TRUE)
###### Classe de Controle = 1
setwd("~/Documentos/UFAM/4º período/ICD/Aula 05/wifi/Control") # fixa a pasta de trabalho do R no diretório passado.
fileNames = dir()
l <- rep(0,21)
l[21] = 1
df <- data.frame("Data_Hora" = '', "Teste" = '', "Antena" = '', "Channel" = '', "Freq" = '',
"Occ_Band" = '', "Sit_Teste" = '',"Power" = '', "Sit_Power" = '', "N_outsig" = '',
"N_3sig" = '', "N_2sig" = '', "N_1sig" = '', "U" = '', "P_1sig" = '', "P_2sig" = '',
"P_3sig" = '', "P_outsig" = '', "Sit" = '', "Log" = '', "Classe" = 1, stringsAsFactors = FALSE)
for (k in 1:length(fileNames)) {
Log = readLines(fileNames[k])
idFP = grep("Modelo",Log)
Log = Log[idFP:length(Log)]
a = strsplit(Log[3], split="")[[1]]
a[11] = " "
l[1] = paste0(a,collapse = "")
tst = grep("Teste",Log)
l[20] = fileNames[k]
for (j in tst) {
t = strsplit(Log[j],split=" ")[[1]]
l[2] = t[2]
l[3] = t[4]
l[4] = t[6]
l[5] = t[8]
l[6] = t[12]
l[7] = strtrim(t[13],6)
l[8] = t[16]
l[9] = strtrim(t[17],6)
t = strsplit(Log[j+1],split=" ")[[1]]
l[10] = strsplit(t[7],split="}")[[1]][1]
for (a in 9:14) {
l[a+2] = strsplit(t[a],split="}")[[1]][1]
}
l[19] = t[17]
df = rbind(df,l)
}
}
df = df[-1,]
rownames(df) <- 1:nrow(df)
###### Classe de Erro = 2
setwd("~/Documentos/UFAM/4º período/ICD/Aula 05/wifi/Error") # fixa a pasta de trabalho do R no diretório passado.
fileNames = dir()
l[21] = 2
for (k in 1:length(fileNames)) {
Log = readLines(fileNames[k])
idFP = grep("Modelo",Log)
Log = Log[idFP:length(Log)]
a = strsplit(Log[3], split="")[[1]]
a[11] = " "
l[1] = paste0(a,collapse = "")
tst = grep("Teste",Log)
l[20] = fileNames[k]
for (j in tst) {
t = strsplit(Log[j],split=" ")[[1]]
l[2] = t[2]
l[3] = t[4]
l[4] = t[6]
l[5] = t[8]
l[6] = t[12]
l[7] = strtrim(t[13],6)
l[8] = t[16]
l[9] = strtrim(t[17],6)
t = strsplit(Log[j+1],split=" ")[[1]]
l[10] = strsplit(t[7],split="}")[[1]][1]
for (a in 9:14) {
l[a+2] = strsplit(t[a],split="}")[[1]][1]
}
l[19] = t[17]
df = rbind(df,l)
}
}
View(df)
setwd("~/Documentos/UFAM/4º período/ICD/Aula 05") # fixa a pasta de trabalho do R no diretório passado.
write.csv(df, "wifi_estruturado.csv", row.names = TRUE)
install.packages("rvest")
library(rvest)
URL = "https://www.olx.com.br/brasil?o=PAGINA&q=im%C3%B3veis%20a%20venda%20em%20manaus"
k = 1
sub(x=URL,pattern = 'PAGINA',replacement = k)
page = read_html(url) # Lê a página na url
url = sub(x=URL,pattern = 'PAGINA',replacement = k)
url
